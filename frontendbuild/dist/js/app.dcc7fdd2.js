(function(t){function e(e){for(var o,i,n=e[0],s=e[1],c=e[2],m=0,f=[];m<n.length;m++)i=n[m],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);u&&u(e);while(f.length)f.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var t,e=0;e<l.length;e++){for(var a=l[e],o=!0,n=1;n<a.length;n++){var s=a[n];0!==r[s]&&(o=!1)}o&&(l.splice(e--,1),t=i(i.s=a[0]))}return t}var o={},r={app:0},l=[];function i(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=o,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(a,o,function(e){return t[e]}.bind(null,o));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],s=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=s;l.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("4b77")},"4b77":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("25ba"),a("5f1c"),a("6ba0"),a("b47f");var o=a("430a"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{name:"config"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-setting"}),t._v(" 配置")]),a("felix-config",{ref:"config"})],1),a("el-tab-pane",{attrs:{name:"machine"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-s-grid"}),t._v(" 机器")]),a("felix-machine",{ref:"machine"})],1),a("el-tab-pane",{attrs:{name:"user"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-user-solid"}),t._v(" 用户")]),a("felix-user",{ref:"user"})],1)],1)],1)},l=[],i=(a("5199"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticStyle:{"margin-bottom":"1rem"},attrs:{align:"middle",justify:"start",type:"flex"}},[a("el-col",{attrs:{span:4}}),a("el-col",{staticClass:"search-bar",attrs:{span:20}},[a("el-input",{attrs:{clearable:"",placeholder:"模糊搜索用户名","prefix-icon":"el-icon-search",size:"mini"},on:{change:t.fetch},model:{value:t.q,callback:function(e){t.q="string"===typeof e?e.trim():e},expression:"q"}}),a("el-button",{attrs:{icon:"el-icon-search",size:"mini",title:"搜索/刷新按钮",type:"primary"},on:{click:t.fetch}})],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"name",label:"name"}}),a("el-table-column",{attrs:{prop:"value",label:"value"}}),a("el-table-column",{attrs:{prop:"def",label:"Default"}}),a("el-table-column",{attrs:{prop:"desc",label:"Desc"}}),a("el-table-column",{attrs:{fixed:"right",label:"Action",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{attrs:{title:"edit config",type:"success",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return t.showForm(e.row)}}})]}}])})],1),a("el-dialog",{attrs:{title:"ssh",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form,"label-position":"right","label-width":"120px",size:"mini"}},[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"Default"}},[a("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:t.form.def,callback:function(e){t.$set(t.form,"def",e)},expression:"form.def"}})],1),a("el-form-item",{attrs:{label:"Desc"}},[a("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),a("el-form-item",{attrs:{label:"Value"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("Close")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.updateConfig}},[t._v("Submit")])],1)],1)],1)}),n=[],s=a("73ef"),c=a.n(s),u={name:"FelixConfig",data:function(){return{formLabelWidth:"120",dialogFormVisible:!1,total:0,page:1,size:10,tableData:[],form:{},q:""}},mounted:function(){this.fetch()},created:function(){},methods:{fetch:function(){var t=this,e="";c.a.get("api/config",{params:{q:e}}).then((function(e){var a=e.status,o=e.data;200===a?t.tableData=o:t.$message.error(o)}))},showForm:function(t){this.form=t,this.dialogFormVisible=!0},updateConfig:function(){var t=this;c.a.patch("api/config",this.form).then((function(e){var a=e.status,o=e.data;200!==a?t.$message.error(o):(t.dialogFormVisible=!1,t.fetch())}))}}},m=u,f=a("cba8"),p=Object(f["a"])(m,i,n,!1,null,"09d66b4c",null),d=p.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticStyle:{"margin-bottom":"1rem"},attrs:{align:"middle",justify:"start",type:"flex"}},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{title:"",size:"mini",type:"success"},on:{click:t.showCreate}},[t._v("Create")])],1),a("el-col",{staticClass:"search-bar",attrs:{span:20}},[a("el-input",{attrs:{clearable:"",placeholder:"模糊搜索用户名","prefix-icon":"el-icon-search",size:"mini"},on:{change:t.fetch},model:{value:t.q,callback:function(e){t.q="string"===typeof e?e.trim():e},expression:"q"}}),a("el-button",{attrs:{icon:"el-icon-search",size:"mini",title:"搜索/刷新按钮",type:"primary"},on:{click:t.fetch}})],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),a("el-table-column",{attrs:{prop:"name",label:"name"}}),a("el-table-column",{attrs:{prop:"host",label:"host"}}),a("el-table-column",{attrs:{prop:"port",label:"port"}}),a("el-table-column",{attrs:{prop:"protocol",label:"Protocol"}}),a("el-table-column",{attrs:{prop:"user",label:"user"}}),a("el-table-column",{attrs:{fixed:"right",label:"Action"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",{attrs:{type:"mini"}},[a("el-button",{attrs:{title:"webSsh",type:"primary",size:"mini",icon:"el-icon-s-platform"},on:{click:function(a){return t.showWebSsh(e.row)}}}),a("el-button",{attrs:{title:"edit config",type:"success",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return t.showUpdate(e.row)}}}),a("el-button",{attrs:{title:"remove",type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return t.showDelete(e.row)}}})],1)]}}])})],1),a("el-dialog",{attrs:{title:t.createOrUpdate,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form,"label-position":"right","label-width":"120px",size:"mini"}},[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"host"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.host,callback:function(e){t.$set(t.form,"host","string"===typeof e?e.trim():e)},expression:"form.host"}})],1),a("el-form-item",{attrs:{label:"Port"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.port,callback:function(e){t.$set(t.form,"port",t._n(e))},expression:"form.port"}})],1),a("el-form-item",{attrs:{label:"Protocol"}},[a("el-radio-group",{model:{value:t.form.protocol,callback:function(e){t.$set(t.form,"protocol",e)},expression:"form.protocol"}},[a("el-radio",{attrs:{label:"ssh"}},[t._v("SSH")]),a("el-radio",{attrs:{label:"rdp"}},[t._v("RDP(windows)")]),a("el-radio",{attrs:{label:"vnc"}},[t._v("VNC(macOS/linux)")])],1)],1),a("el-form-item",{attrs:{label:"User"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.user,callback:function(e){t.$set(t.form,"user","string"===typeof e?e.trim():e)},expression:"form.user"}})],1),a("el-form-item",{attrs:{label:"Password"}},[a("el-input",{attrs:{autocomplete:"off","show-password":""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password","string"===typeof e?e.trim():e)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"PrivateKey"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:t.form.private_key,callback:function(e){t.$set(t.form,"private_key","string"===typeof e?e.trim():e)},expression:"form.private_key"}})],1),a("el-form-item",{attrs:{label:"PrivateKeyPassword"}},[a("el-input",{attrs:{autocomplete:"off","show-password":""},model:{value:t.form.private_key_password,callback:function(e){t.$set(t.form,"private_key_password","string"===typeof e?e.trim():e)},expression:"form.private_key_password"}})],1),a("el-form-item",{attrs:{label:"Remark"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("Close")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.doSubmit}},[t._v("Submit")])],1)],1)],1)},h=[],v={name:"FelixMachine",data:function(){return{createOrUpdate:"create",formLabelWidth:"120",dialogFormVisible:!1,total:0,page:1,size:10,tableData:[],form:{},q:""}},mounted:function(){this.fetch()},created:function(){},methods:{fetch:function(){var t=this,e="";c.a.get("api/machine",{params:{q:e}}).then((function(e){var a=e.status,o=e.data;200===a?t.tableData=o:t.$message.error(o)}))},showWebSsh:function(t){window.open(t.web_ssh_url,"_blank").focus()},showDelete:function(t){this.remove(t)},showUpdate:function(t){this.createOrUpdate="update",this.form=t,this.dialogFormVisible=!0},doSubmit:function(){"create"===this.createOrUpdate?this.create():this.update()},showCreate:function(){this.createOrUpdate="create",this.form={},this.dialogFormVisible=!0},create:function(){var t=this;c.a.post("api/machine",this.form).then((function(e){var a=e.status,o=e.data;200!==a?t.$message.error(o):(t.dialogFormVisible=!1,t.fetch())}))},remove:function(){var t=this;c.a.delete("api/machine",this.form).then((function(e){var a=e.status,o=e.data;200!==a?t.$message.error(o):(t.dialogFormVisible=!1,t.fetch())}))},update:function(){var t=this;c.a.patch("api/machine",this.form).then((function(e){var a=e.status,o=e.data;200!==a?t.$message.error(o):(t.dialogFormVisible=!1,t.fetch())}))}}},g=v,y=Object(f["a"])(g,b,h,!1,null,"6f1c64e6",null),w=y.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticStyle:{"margin-bottom":"1rem"},attrs:{align:"middle",justify:"start",type:"flex"}},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{title:"",size:"mini",type:"success"},on:{click:t.showCreate}},[t._v("Create")])],1),a("el-col",{staticClass:"search-bar",attrs:{span:20}},[a("el-input",{attrs:{clearable:"",placeholder:"模糊搜索用户名","prefix-icon":"el-icon-search",size:"mini"},on:{change:t.fetch},model:{value:t.q,callback:function(e){t.q="string"===typeof e?e.trim():e},expression:"q"}}),a("el-button",{attrs:{icon:"el-icon-search",size:"mini",title:"搜索/刷新按钮",type:"primary"},on:{click:t.fetch}})],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),a("el-table-column",{attrs:{prop:"name",label:"Name"}}),a("el-table-column",{attrs:{prop:"role",label:"Role"}}),a("el-table-column",{attrs:{prop:"account",label:"Account"}}),a("el-table-column",{attrs:{prop:"email",label:"Email"}}),a("el-table-column",{attrs:{prop:"phone",label:"Phone"}}),a("el-table-column",{attrs:{prop:"password",label:"Password"}}),a("el-table-column",{attrs:{prop:"github_account",label:"GithubAccount"}}),a("el-table-column",{attrs:{fixed:"right",label:"Action",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button-group",{attrs:{type:"mini"}},[a("el-button",{attrs:{title:"edit config",type:"success",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return t.showUpdate(e.row)}}}),a("el-button",{attrs:{title:"remove",type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return t.showDelete(e.row)}}}),a("el-button",{attrs:{title:"Sync Github Public key",type:"info",size:"mini",icon:"el-icon-refresh"},on:{click:function(a){return t.doSyncGithubPublicKey(e.row)}}})],1)]}}])})],1),a("el-dialog",{attrs:{title:t.createOrUpdate,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form,"label-position":"right","label-width":"120px",size:"mini"}},[a("el-form-item",{attrs:{label:"Name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"Role"}},[a("el-radio-group",{model:{value:t.form.role,callback:function(e){t.$set(t.form,"role",e)},expression:"form.role"}},[a("el-radio",{attrs:{label:"Reporter"}},[t._v("Reporter")]),a("el-radio",{attrs:{label:"Developer"}},[t._v("Developer")]),a("el-radio",{attrs:{label:"Maintainer"}},[t._v("Maintainer")]),a("el-radio",{attrs:{label:"Admin"}},[t._v("Admin")])],1)],1),a("el-form-item",{attrs:{label:"Email"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email","string"===typeof e?e.trim():e)},expression:"form.email"}})],1),a("el-form-item",{attrs:{label:"Account"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}})],1),a("el-form-item",{attrs:{label:"Phone"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone","string"===typeof e?e.trim():e)},expression:"form.phone"}})],1),a("el-form-item",{attrs:{label:"Github Account"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.github_account,callback:function(e){t.$set(t.form,"github_account","string"===typeof e?e.trim():e)},expression:"form.github_account"}})],1),a("el-form-item",{attrs:{label:"Public Key"}},[a("el-input",{attrs:{type:"textarea",rows:10,autocomplete:"off"},model:{value:t.form.public_key,callback:function(e){t.$set(t.form,"public_key","string"===typeof e?e.trim():e)},expression:"form.public_key"}})],1),a("el-form-item",{attrs:{label:"Password"}},[a("el-input",{attrs:{autocomplete:"off","show-password":""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password","string"===typeof e?e.trim():e)},expression:"form.password"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("Close")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.doSubmit}},[t._v("Submit")])],1)],1)],1)},x=[],_={name:"FelixUser",data:function(){return{createOrUpdate:"create",formLabelWidth:"120",dialogFormVisible:!1,total:0,page:1,size:10,tableData:[],form:{},q:""}},mounted:function(){this.fetch()},created:function(){},methods:{fetch:function(){var t=this,e="";c.a.get("api/user",{params:{q:e}}).then((function(e){var a=e.status,o=e.data;200===a?t.tableData=o:t.$message.error(o)}))},showDelete:function(t){this.remove(t)},doSyncGithubPublicKey:function(t){var e=this,a="api/user-github-public-key-sync";c.a.post(a,t).then((function(t){var a=t.status,o=t.data;200===a?e.fetch():e.$message.error(o)}))},showUpdate:function(t){this.createOrUpdate="update",this.form=t,this.dialogFormVisible=!0},doSubmit:function(){"create"===this.createOrUpdate?this.create():this.update()},showCreate:function(){this.createOrUpdate="create",this.form={},this.dialogFormVisible=!0},create:function(){var t=this;c.a.post("api/user",this.form).then((function(e){var a=e.status,o=e.data;200!==a?t.$message.error(o):(t.dialogFormVisible=!1,t.fetch())}))},remove:function(){var t=this;c.a.delete("api/user",this.form).then((function(e){var a=e.status,o=e.data;200!==a?t.$message.error(o):(t.dialogFormVisible=!1,t.fetch())}))},update:function(){var t=this;c.a.patch("api/user",this.form).then((function(e){var a=e.status,o=e.data;200!==a?t.$message.error(o):(t.dialogFormVisible=!1,t.fetch())}))}}},$=_,F=Object(f["a"])($,k,x,!1,null,"d76c2438",null),S=F.exports,z={name:"app",components:{FelixMachine:w,FelixConfig:d,FelixUser:S},data:function(){return{activeName:"machine"}},mounted:function(){for(var t=0,e=["config","machine","user"];t<e.length;t++){var a=e[t];if(window.location.pathname.endsWith(a))return void(this.activeName=a)}},created:function(){},methods:{handleClick:function(){this.$refs[this.activeName].fetch(),window.document.title=this.activeName}}},O=z,V=(a("034f"),Object(f["a"])(O,r,l,!1,null,null,null)),C=V.exports,P=a("edcc"),D=a.n(P);a("0db3");o["default"].use(D.a),o["default"].config.productionTip=!1,new o["default"]({render:function(t){return t(C)}}).$mount("#app")}});
//# sourceMappingURL=app.dcc7fdd2.js.map